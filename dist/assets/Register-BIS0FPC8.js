import{r as m,b as M,d as X,e as B,u as G,j as e,m as o,B as g,s as f}from"./index-GfK4j188.js";import{L as s,I as c}from"./label-DeCOqoSN.js";import{S as j,a as v,b,c as y,d as a,T as Y}from"./select-Cv2-y9NK.js";import{G as O,C as k}from"./checkbox-D3TvOLDn.js";import{C as F,b as I,c as R,a as A}from"./card-DY-nbHjw.js";import{L as U}from"./lock-BSXvcVVN.js";import{C as W}from"./circle-check-big-Dfq7n7dj.js";import{U as L}from"./user-D_tgp4cA.js";import{B as D}from"./building-DGzZEnd7.js";import{E as V}from"./external-link-D1o7Btmp.js";import"./index-ge-EFznJ.js";import"./Combination-ZkYHRl3D.js";import"./index-DEUQUo5N.js";const H="/images/group-q.png",J="/images/second-qr.jpg",T="https://chat.whatsapp.com/IOa3y2QZaaCI1JCHCOmZIP?mode=ems_qr_t",z=H,ce=()=>{const[r,x]=m.useState({fullName:"",email:"",phone:"",institution:"",year:"",branch:"",experience:"",motivation:"",referralCode:"",attendanceMode:"",agreeTerms:!1,agreeUpdates:!1}),[N,p]=m.useState(!1),[q,P]=m.useState(!1),{toast:d}=M(),E=X(),[C]=B(),{user:l}=G();if(!l)return e.jsx(o.div,{className:"min-h-screen flex items-center justify-center bg-background px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs(o.div,{className:"max-w-md w-full text-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},children:[e.jsx(o.div,{className:"w-20 h-20 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-6",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4},children:e.jsx(U,{className:"h-10 w-10 text-blue-600 dark:text-blue-400"})}),e.jsx("h1",{className:"text-2xl font-bold font-poppins mb-4",children:"Sign In Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in or create an account to access the registration form."}),e.jsxs(g,{onClick:()=>E("/login"),className:"btn-quantum text-primary-foreground px-8 py-3 text-lg font-semibold rounded-lg shadow-lg relative group animate-pulse-glow",children:[e.jsx("span",{className:"relative z-10",children:"Go to Login"}),e.jsx("span",{className:"absolute inset-0 bg-white/10 rounded-lg opacity-0 group-hover:opacity-20 transition-opacity"})]})]})});const i=(t,n)=>{x(u=>({...u,[t]:n}))};m.useEffect(()=>{l?.email&&x(t=>({...t,email:l.email}))},[l]),m.useEffect(()=>{const t=C.get("ref");t&&x(n=>({...n,referralCode:t}))},[C]);const _=()=>["fullName","email","phone","institution","year","branch","attendanceMode"].filter(h=>!r[h]).length>0?(d({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"}),!1):r.agreeTerms?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?!0:(d({title:"Invalid Email",description:"Please enter a valid email address.",variant:"destructive"}),!1):(d({title:"Terms & Conditions",description:"Please agree to the terms and conditions to continue.",variant:"destructive"}),!1),Q=async t=>{if(t.preventDefault(),!!_()){p(!0);try{if(!l)return;const{data:n}=await f.from("registrations").select("id").eq("user_id",l.id).single();if(n){d({title:"Already Registered",description:"You have already registered for this event.",variant:"destructive"}),p(!1);return}const u=btoa(l.id).substring(0,8);let h=null;if(r.referralCode){const{data:S}=await f.from("registrations").select("id").eq("referral_code",r.referralCode).single();S&&(h=S.id)}const{error:w}=await f.from("registrations").insert([{user_id:l.id,fullName:r.fullName,email:r.email,phone:r.phone,institution:r.institution,year:r.year,branch:r.branch,experience:r.experience,motivation:r.motivation,referral_code:u,referred_by:h,attendance_mode:r.attendanceMode}]);if(w)throw w;P(!0),d({title:"Registration Successful!",description:"You have registered for Qiskit Fall Fest ðŸŽ‰"})}catch(n){console.error("Error submitting registration:",n),d({title:"Registration Failed",description:n.message||"Something went wrong. Try again.",variant:"destructive"})}finally{p(!1)}}};return q?e.jsx(o.div,{className:"min-h-screen flex items-center justify-center bg-background px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs(o.div,{className:"max-w-md w-full text-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},children:[e.jsx(o.div,{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4},children:e.jsx(W,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),e.jsx("h1",{className:"text-2xl font-bold font-poppins mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Thanks for registering! Stay connected with updates below."}),e.jsxs(F,{className:"mb-6 border border-green-200 dark:border-green-900/30",children:[e.jsx(I,{className:"pb-2",children:e.jsx(R,{className:"text-lg font-medium text-green-700 dark:text-green-400",children:"Join Our WhatsApp Group"})}),e.jsxs(A,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Stay updated with event announcements and connect with other participants!"}),e.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:z,alt:"WhatsApp Group QR Code",className:"w-48 h-48 border border-border rounded-lg"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"WhatsApp Group QR Code"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:J,alt:"Second QR Code",className:"w-48 h-48 border border-border rounded-lg"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Additional QR Code"})]})]}),e.jsx(g,{onClick:()=>window.open(T,"_blank"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium flex items-center justify-center gap-2",children:"Join WhatsApp Group"})]})]})]})}):e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"min-h-screen bg-background py-20",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(o.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold font-poppins mb-4",children:["Register for"," ",e.jsx("span",{className:"text-gradient",children:"Qiskit Fall Fest 2025"})]}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Secure your spot at IIIT Srikakulam's quantum computing celebration"})]}),e.jsxs(F,{className:"glass-card border border-white/10",children:[e.jsx(I,{children:e.jsx(R,{className:"text-2xl font-semibold",children:"Registration Details"})}),e.jsx(A,{children:e.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(L,{className:"h-5 w-5 mr-2 text-primary"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"fullName",children:"Full Name *"}),e.jsx(c,{id:"fullName",value:r.fullName,onChange:t=>i("fullName",t.target.value),placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"email",children:"Email Address *"}),e.jsx(c,{id:"email",type:"email",value:r.email,onChange:()=>{},readOnly:!0,className:"bg-muted cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"phone",children:"Phone Number *"}),e.jsx(c,{id:"phone",type:"tel",value:r.phone,onChange:t=>i("phone",t.target.value),placeholder:"+91 XXXXX XXXXX",required:!0})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"referralCode",children:"Referral Code (Optional)"}),e.jsx(c,{id:"referralCode",value:r.referralCode,onChange:t=>i("referralCode",t.target.value),placeholder:"Enter referral code if you have one"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(O,{className:"h-5 w-5 mr-2 text-primary"}),"Academic Information"]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"institution",children:"Institution *"}),e.jsx(c,{id:"institution",value:r.institution,onChange:t=>i("institution",t.target.value),placeholder:"Your college/university name",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"year",children:"Academic Year *"}),e.jsxs(j,{onValueChange:t=>i("year",t),children:[e.jsx(v,{children:e.jsx(b,{placeholder:"Select year"})}),e.jsxs(y,{children:[e.jsx(a,{value:"1st-year",children:"1st Year"}),e.jsx(a,{value:"2nd-year",children:"2nd Year"}),e.jsx(a,{value:"3rd-year",children:"3rd Year"}),e.jsx(a,{value:"4th-year",children:"4th Year / Final Year"}),e.jsx(a,{value:"masters",children:"Master's Student"}),e.jsx(a,{value:"phd",children:"PhD Student"}),e.jsx(a,{value:"faculty",children:"Faculty/Staff"})]})]})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"branch",children:"Branch/Major *"}),e.jsx(c,{id:"branch",value:r.branch,onChange:t=>i("branch",t.target.value),placeholder:"e.g., Computer Science, Physics",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"attendanceMode",children:"Attendance Mode *"}),e.jsxs(j,{onValueChange:t=>i("attendanceMode",t),children:[e.jsx(v,{children:e.jsx(b,{placeholder:"Select attendance mode"})}),e.jsxs(y,{children:[e.jsx(a,{value:"in-person",children:"In-Person"}),e.jsx(a,{value:"virtual",children:"Virtual"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(D,{className:"h-5 w-5 mr-2 text-primary"}),"Background & Motivation"]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"experience",children:"Quantum Computing Experience"}),e.jsxs(j,{onValueChange:t=>i("experience",t),children:[e.jsx(v,{children:e.jsx(b,{placeholder:"Select your experience level"})}),e.jsxs(y,{children:[e.jsx(a,{value:"none",children:"No prior experience"}),e.jsx(a,{value:"beginner",children:"Beginner (some reading/online courses)"}),e.jsx(a,{value:"intermediate",children:"Intermediate (some projects/coursework)"}),e.jsx(a,{value:"advanced",children:"Advanced (research/professional experience)"})]})]})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"motivation",children:"Why do you want to attend? (Optional)"}),e.jsx(Y,{id:"motivation",value:r.motivation,onChange:t=>i("motivation",t.target.value),placeholder:"Tell us what motivates you...",rows:3})]})]}),e.jsxs("div",{className:"space-y-4 border-t border-border pt-4",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(k,{id:"agreeTerms",checked:r.agreeTerms,onCheckedChange:t=>i("agreeTerms",t)}),e.jsx("div",{className:"text-sm",children:e.jsxs(s,{htmlFor:"agreeTerms",className:"cursor-pointer",children:["I agree to the"," ",e.jsx("a",{href:"/code-of-conduct",className:"text-primary hover:underline",children:"Code of Conduct"})," ","and event terms and conditions. *"]})})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(k,{id:"agreeUpdates",checked:r.agreeUpdates,onCheckedChange:t=>i("agreeUpdates",t)}),e.jsx("div",{className:"text-sm",children:e.jsx(s,{htmlFor:"agreeUpdates",className:"cursor-pointer",children:"I would like to receive updates about future quantum events."})})]})]}),e.jsx(g,{type:"submit",className:"w-full btn-quantum py-3 text-lg font-semibold rounded-lg shadow-lg relative group animate-pulse-glow",disabled:N,children:e.jsx("span",{className:"relative z-10",children:N?"Registering...":"Complete Registration"})}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already registered?"," ",e.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center justify-center gap-1",children:["Join WhatsApp Group ",e.jsx(V,{className:"h-3 w-3"})]})]})]})})]})]})})})};export{ce as default};
